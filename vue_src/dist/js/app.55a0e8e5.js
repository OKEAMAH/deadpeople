(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},1831:function(e,t,n){},"243c":function(e,t,n){"use strict";var r=n("c9b4"),a=n.n(r);a.a},"2a68":function(e,t,n){},"2c77":function(e,t,n){"use strict";var r=n("1831"),a=n.n(r);a.a},5629:function(e,t,n){"use strict";var r=n("fb40"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"app"}},[n("Header"),n("router-view")],1)])},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info",fixed:"top"}},[n("b-navbar-brand",{attrs:{to:"/map"}},[n("img",{attrs:{alt:"Grove St. Gate",src:"https://github.com/sketsdever/deadpeople/blob/master/vue_src/src/assets/grovest_gate_icon_compressed.png?raw=true",width:"40"}})]),n("b-navbar-nav",[n("b-nav-item",{attrs:{to:"/"}},[e._v("Map")]),n("b-nav-item",{attrs:{to:"/about"}},[e._v("The Team")]),n("b-nav-item",{attrs:{to:"/database"}},[e._v("Admin")])],1)],1)},s=[],c={name:"Header"},u=c,l=(n("e60c"),n("2877")),d=Object(l["a"])(u,i,s,!1,null,"23a3ebbe",null);d.options.__file="Header.vue";var p=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info",fixed:"bottom"}})},f=[],m={name:"Footer"},b=m,v=(n("85f4"),Object(l["a"])(b,h,f,!1,null,"780eb366",null));v.options.__file="Footer.vue";var w=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("img",{attrs:{alt:"Grove St. Gate",src:"https://github.com/sketsdever/deadpeople/blob/master/vue_src/src/assets/grovest_gate.png?raw=true",width:"300"}}),n("b-button",{on:{click:e.onEnter}},[e._v("Enter the Graveyard")])],1)},_=[],k={name:"Welcome",methods:{onEnter:function(e){console.log("Emited"),this.$emit("entered")}}},x=k,j=Object(l["a"])(x,g,_,!1,null,null,null);j.options.__file="Welcome.vue";var O=j.exports,y={name:"app",components:{Header:p,Welcome:O,Footer:w},data:{welcomeShow:!0},methods:{onEnter:function(){this.welcomeShow=!1}}},D=y,R=(n("034f"),Object(l["a"])(D,a,o,!1,null,null,null));R.options.__file="App.vue";var P=R.exports,C=n("8c4f"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("center",[n("br"),n("div",{staticClass:"text-box"},[n("h2",{attrs:{id:"title"}},[e._v("Grove St. Map")])]),n("div",{staticClass:"text-box"},[n("p",[e._v("Scroll to zoom. Click and drag to pan."),n("br"),e._v("Select a plot to view information.")])]),n("b-modal",{ref:"modalRef",attrs:{"hide-footer":"",size:"lg"},on:{shown:e.modalShown}},[n("b-container",{attrs:{fluid:""}},[e.modalVisible?n("div",[n("PlotDetails",{attrs:{graves:e.graves,landmarks:e.landmarks}})],1):e._e()])],1),n("div",{attrs:{id:"image-map"}}),n("br"),n("br"),n("br"),n("br")],1)},A=[],L=n("3835"),T=(n("ac6a"),n("96cf"),n("1da1")),S=n("e11e"),G=n.n(S),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plotDetails"},[n("h2",[e._v("Graves")]),n("b-table",{attrs:{striped:"",hover:"",items:e.graves,fields:e.graveFields}}),n("h2",[e._v("Landmarks")]),n("b-table",{attrs:{striped:"",hover:"",items:e.landmarks,fields:e.landmarkFields}})],1)},N=[],Y={name:"PlotDetails",props:{graves:[],landmarks:[]},data:function(){return{graveFields:["location","id","first_name","middle_name","last_name","date_of_birth","date_of_death","date_of_burial"],landmarkFields:["location","id","description","has_photos"]}}},B=Y,H=(n("83cf"),Object(l["a"])(B,M,N,!1,null,"3af6b0a3",null));H.options.__file="PlotDetails.vue";var $=H.exports,V={name:"LMap",data:function(){return{modalVisible:!1,graves:[],landmarks:[]}},components:{PlotDetails:$},methods:{fetchAsync:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e["catch"](0),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),fetchNotables:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAsync(new URL("http://localhost:3000/db-view-graves"));case 2:return t=e.sent,e.next=5,this.fetchAsync(new URL("http://localhost:3000/db-view-landmarks"));case 5:if(n=e.sent,void 0==t||void 0==n){e.next=17;break}return r=[],a=[],o=[],e.next=12,this.fetchAsync(new URL("http://localhost:3000/db-fetch-locations"));case 12:return i=e.sent,void 0!=i&&i.forEach(function(e){o.push({X:e.relative_x,Y:e.relative_y})}),t.forEach(function(e){r.push({type:"grave",id:e.object_id,last_name:e.last_name,first_name:e.first_name,middle_name:e.middle_name,date_of_birth:e.date_of_birth.slice(0,4),date_of_death:e.date_of_death.slice(0,4),date_of_burial:e.date_of_burrial.slice(0,4),is_notable:e.is_notable,location:e.location,X:o[e.location-1].X,Y:o[e.location-1].Y})}),n.forEach(function(e){a.push({type:"landmark",id:e.object_id,description:e.description,has_photos:e.has_photos,location:e.location,X:o[e.location-1].X,Y:o[e.location-1].Y})}),e.abrupt("return",[r,a]);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showModal:function(){this.$refs.modalRef.show()},modalShown:function(){this.modalVisible=!0},modalHidden:function(){this.modalVisible=!1},setPlotContents:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.forEach(function(e){"grave"==e.type?n.graves.push(e):"landmark"==e.type&&n.landmarks.push(e)});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),resetPlotContents:function(){this.graves=[],this.landmarks=[]}},mounted:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u,l,d,p,h,f,m,b,v,w,g,_;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return _=function(){return _=Object(T["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:w(),v(o[t-1]),b();case 3:case"end":return e.stop()}},e,this)})),_.apply(this,arguments)},g=function(e){return _.apply(this,arguments)},e.next=4,this.fetchNotables();case 4:for(t=e.sent,n=Object(L["a"])(t,2),r=n[0],a=n[1],o=[],i=0;i<1049;i++)o.push("EMPTY");return s=1400,c=1398,u="https://raw.githubusercontent.com/sketsdever/deadpeople/master/vue_src/src/assets/grovest_map.png",l=3,d=l-1,p=G.a.map("image-map",{minZoom:0,maxZoom:3,center:[0,0],zoom:2,attributionControl:!1,crs:G.a.CRS.Simple}),p.setView(p.unproject([s/2,c/2],d)),G.a.control.attribution().addAttribution("Image by Claire Gorman").addTo(p),h=p.unproject([0,c],d),f=p.unproject([s,0],d),m=new G.a.LatLngBounds(h,f),G.a.imageOverlay(u,m).addTo(p),p.setMaxBounds(m),this.fetchAsync,b=this.showModal,v=this.setPlotContents,w=this.resetPlotContents,this.$nextTick,this.$root,e.next=28,r.forEach(function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"EMPTY"==o[t.location-1]&&(n=G.a.circleMarker(p.unproject([s*t.X,c*t.Y],d),{radius:7}).addTo(p),r=document.createElement("button"),a="Plot "+String(t.location)+": Click to view details",i=document.createTextNode(a),r.appendChild(i),n.bindPopup(r),r.addEventListener("click",Object(T["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g(t.location);case 2:case"end":return e.stop()}},e,this)}))),o[t.location-1]=[]),o[t.location-1].push(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 28:return e.next=30,a.forEach(function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"EMPTY"==o[t.location-1]&&(n=G.a.circleMarker(p.unproject([s*t.X,c*t.Y],d),{radius:7}).addTo(p),r=document.createElement("button"),a="Plot "+String(t.location)+": Click to view details",i=document.createTextNode(a),r.appendChild(i),n.bindPopup(r),r.addEventListener("click",Object(T["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g(t.location);case 2:case"end":return e.stop()}},e,this)}))),o[t.location-1]=[]),o[t.location-1].push(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},F=V,U=(n("2c77"),Object(l["a"])(F,E,A,!1,null,null,null));U.options.__file="LMap.vue";var X=U.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("br"),n("div",{staticClass:"text-box"},[n("h1",[e._v("Admin features")]),n("p",[e._v("Add and remove objects from the database:")]),n("b-dropdown",{attrs:{text:"Select object type"}},[n("b-dropdown-item",{on:{click:e.onClickGrave}},[e._v("Grave")]),n("b-dropdown-item",{on:{click:e.onClickLandmark}},[e._v("Landmark")])],1),e.showGraveDialog?n("div",[n("b-input-group",{attrs:{prepend:"Location (Address format eg. 24 Birch St.):"}},[n("b-form-input",{model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1),n("b-input-group",{attrs:{prepend:"Last name:"}},[n("b-form-input",{model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),n("b-input-group",{attrs:{prepend:"First name:"}},[n("b-form-input",{model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),n("b-input-group",{attrs:{prepend:"Middle name:"}},[n("b-form-input",{model:{value:e.middleName,callback:function(t){e.middleName=t},expression:"middleName"}})],1),n("b-input-group",{attrs:{prepend:"Date of Birth (M/D/YYYY):"}},[n("b-form-input",{model:{value:e.DOBirth,callback:function(t){e.DOBirth=t},expression:"DOBirth"}})],1),n("b-input-group",{attrs:{prepend:"Date of Death (M/D/YYYY):"}},[n("b-form-input",{model:{value:e.DODeath,callback:function(t){e.DODeath=t},expression:"DODeath"}})],1),n("b-input-group",{attrs:{prepend:"Date of Burial (M/D/YYYY):"}},[n("b-form-input",{model:{value:e.DOBurial,callback:function(t){e.DOBurial=t},expression:"DOBurial"}})],1),n("b-button",{on:{click:e.onClickAddGrave}},[e._v("Add grave")]),n("b-button",{on:{click:e.onClickDeleteGrave}},[e._v("Delete grave")])],1):e._e(),e.showLandmarkDialog?n("div",[n("b-input-group",{attrs:{prepend:"Location (Address format eg. 24 Birch St.):"}},[n("b-form-input",{model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1),n("b-input-group",{attrs:{prepend:"Description:"}},[n("b-form-input",{model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),n("b-input-group",{attrs:{prepend:"Has photos? (for now just true / false):"}},[n("b-form-input",{model:{value:e.hasPhotos,callback:function(t){e.hasPhotos=t},expression:"hasPhotos"}})],1),n("b-button",{on:{click:e.onClickAddLandmark}},[e._v("Add landmark")]),n("b-button",{on:{click:e.onClickDeleteLandmark}},[e._v("Delete landmark")])],1):e._e(),n("p",[e._v("View all objects in the database")]),n("b-button",{on:{click:e.onClickViewObjects}},[e._v("View all objects")]),n("b-button",{on:{click:e.onClickHideObjects}},[e._v("Hide objects")]),e.showObjects?n("div",[n("b-table",{attrs:{striped:"",hover:"",items:e.objectResults}})],1):e._e(),n("br"),n("br"),n("br")],1),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")])},W=[],I=(n("456d"),{name:"DatabaseEntry",data:function(){return{PATH:"https://localhost:3000/",location:"",showGraveDialog:!1,showLandmarkDialog:!1,showObjects:!1,lastName:"",firstName:"",middleName:"",DOBirth:"",DODeath:"",DOBurial:"",description:"",hasPhotos:!1,objectResults:[]}},methods:{onClickGrave:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.showGraveDialog=!0,this.showLandmarkDialog=!1;case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onClickLandmark:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.showGraveDialog=!1,this.showLandmarkDialog=!0;case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onClickAddGrave:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={type:"Grave",location:this.location,lastName:this.lastName,firstName:this.firstName,middleName:this.middleName,DOBirth:this.DOBirth,DODeath:this.DODeath,DOBurial:this.DOBurial},n=new URL(this.PATH+"db-add-grave"),Object.keys(t).forEach(function(e){return n.searchParams.append(e,t[e])}),e.next=5,this.fetchAsync(n);case 5:e.sent;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onClickDeleteGrave:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={type:"Grave",location:this.location},n=new URL(this.PATH+"db-delete-object"),Object.keys(t).forEach(function(e){return n.searchParams.append(e,t[e])}),e.next=5,this.fetchAsync(n);case 5:e.sent;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onClickAddLandmark:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={type:"Landmark",location:this.location,description:this.description,hasPhotos:this.hasPhotos},n=new URL(this.PATH+"db-add-landmark"),Object.keys(t).forEach(function(e){return n.searchParams.append(e,t[e])}),e.next=5,this.fetchAsync(n);case 5:e.sent;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onClickDeleteLandmark:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={type:"Landmark",location:this.location},n=new URL(this.PATH+"db-delete-object"),Object.keys(t).forEach(function(e){return n.searchParams.append(e,t[e])}),e.next=5,this.fetchAsync(n);case 5:e.sent;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onClickViewObjects:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new URL(this.PATH+"db-view-objects"),e.next=3,this.fetchAsync(t);case 3:n=e.sent,void 0!=n&&(n.forEach(function(e){r.objectResults.push({Id:e.object_id,Type:e.type,Location:e.location})}),this.showObjects=!0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onClickHideObjects:function(){this.showObjects=!1,this.objectResults=[]},fetchAsync:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e["catch"](0),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()}}),J=I,Z=(n("5629"),Object(l["a"])(J,z,W,!1,null,"2fd4a032",null));Z.options.__file="DatabaseEntry.vue";var q=Z.exports,K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("br"),n("img",{attrs:{alt:"The Team",src:"https://github.com/sketsdever/deadpeople/blob/master/vue_src/src/assets/team.jpg?raw=true",width:"500"}}),n("br"),n("br"),n("div",{staticClass:"text-box"},[e._v("\n\t\tClaire, Elle, Shea, and Michaela are students in CS376, with our advisor Goze we are working on this site for our final project. :)\n\t")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")])}],ee=(n("243c"),{}),te=Object(l["a"])(ee,K,Q,!1,null,"75b7074f",null);te.options.__file="About.vue";var ne=te.exports;r["a"].use(C["a"]);var re=new C["a"]({routes:[{path:"/",name:"Map",component:X},{path:"/database",name:"Database",component:q},{path:"/about",name:"About",component:ne}]}),ae=n("9f7b");n("f9e3"),n("2dd8");r["a"].config.productionTip=!1,r["a"].use(ae["a"]),new r["a"]({router:re,render:function(e){return e(P)}}).$mount("#app")},"64a9":function(e,t,n){},"83cf":function(e,t,n){"use strict";var r=n("2a68"),a=n.n(r);a.a},"85f4":function(e,t,n){"use strict";var r=n("ba55"),a=n.n(r);a.a},ba55:function(e,t,n){},c9b4:function(e,t,n){},d472:function(e,t,n){},e60c:function(e,t,n){"use strict";var r=n("d472"),a=n.n(r);a.a},fb40:function(e,t,n){}});
//# sourceMappingURL=app.55a0e8e5.js.map